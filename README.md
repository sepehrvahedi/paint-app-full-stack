# ğŸ¨ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ú©â€ŒØ§Ù†Ø¯ Ø§Ø³ØªÙˆØ¯ÛŒÙˆ Ù†Ù‚Ø§Ø´ÛŒ

---

## ğŸš€ Ù…Ø¹Ø±ÙÛŒ

Ø¨Ú©â€ŒØ§Ù†Ø¯ ÛŒÚ© Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù†Ù‚Ø§Ø´ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± **Spring Boot** Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø§Ù…Ú©Ø§Ù† Ø§ÛŒØ¬Ø§Ø¯ØŒ Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù†Ù‚Ø§Ø´ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø³ÛŒØ³ØªÙ… Ø§Ø² Ù…Ø¹Ù…Ø§Ø±ÛŒ RESTful API Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±ØŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØªØŒ Ùˆ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ù‚Ø§Ø´ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:
- ğŸ” Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª JWT-based Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… HS512
- ğŸ¨ Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‚Ø§Ø´ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± ÙØ±Ù…Øª JSON
- ğŸ‘¥ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ùˆ Ù¾Ø±ÙˆÙØ§ÛŒÙ„â€ŒÙ‡Ø§
- ğŸ›¡ï¸ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ù¾Ø³ÙˆØ±Ø¯Ù‡Ø§ Ø¨Ø§ BCrypt

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ

### Ø§Ù„Ú¯ÙˆÛŒ MVC Spring Boot
Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø² Ù…Ø¹Ù…Ø§Ø±ÛŒ **Spring Boot MVC** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:
- **Entities (Models)**: Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ User Ùˆ Painting Ø¨Ø§ JPA annotations
- **Controllers**: REST endpoints Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- **Services**: Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±
- **Repositories**: Ù„Ø§ÛŒÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¨Ø§ Spring Data JPA
- **Security**: JWT-based authentication Ùˆ authorization
- **Configuration**: ØªÙ†Ø¸ÛŒÙ…Ø§Øª CORS Ùˆ Security


---

## ğŸ’» ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡

- **Framework**: Spring Boot 3.x
- **Security**: Spring Security + JWT (JJWT library)
- **Database**: SQLite Ø¨Ø§ Hibernate
- **ORM**: Spring Data JPA
- **Password Encryption**: BCrypt
- **Build Tool**: Maven
- **Java Version**: 17+

---

## ğŸ—„ï¸ Ù…Ø¯Ù„ Ø¯Ø§Ø¯Ù‡

### User Entity
```java
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(unique = true, nullable = false)
    private String username;
    
    @Column(nullable = false)
    private String password; // BCrypt hashed
    
    @CreationTimestamp
    private LocalDateTime createdAt;
    
    @OneToMany(mappedBy = "owner", cascade = CascadeType.ALL)
    private List<Painting> paintings;
}
```

### Painting Entity
```java
@Entity
public class Painting {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false)
    private String title;
    
    @Lob
    @Column(columnDefinition = "TEXT")
    private String paintingData; // JSON data
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "owner_id")
    private User owner;
    
    private Integer canvasWidth;
    private Integer canvasHeight;
    
    @CreationTimestamp
    private LocalDateTime createdAt;
    
    @UpdateTimestamp
    private LocalDateTime updatedAt;
}
```

---

## ğŸ” Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª

### JWT Strategy Ø¨Ø§ Spring Security
- **Registration**: BCrypt password hashingØŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±ØŒ ØªÙˆÙ„ÛŒØ¯ JWT Ø¨Ø§ HS512
- **Login**: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ credentialsØŒ ØªÙˆÙ„ÛŒØ¯ JWT token
- **Authorization**: JWT authentication filter Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ tokens
- **Token Management**: expiration 7 Ø±ÙˆØ²ØŒ secure key generation

### Security Configuration
```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        return http
            .csrf(csrf -> csrf.disable())
            .sessionManagement(session -> session.sessionCreationPolicy(STATELESS))
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/api/auth/**").permitAll()
                .anyRequest().authenticated())
            .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)
            .build();
    }
}
```

---

## ğŸ› ï¸ API Endpoints

### Authentication (`/api/auth`)
```http
POST /api/auth/register
Content-Type: application/json
{
    "username": "user123",
    "password": "securepassword"
}

POST /api/auth/login
Content-Type: application/json
{
    "username": "user123", 
    "password": "securepassword"
}
```

### Paintings (`/api/paintings`)
```http
GET /api/paintings
Authorization: Bearer <jwt-token>

POST /api/paintings
Authorization: Bearer <jwt-token>
Content-Type: application/json
{
    "title": "My Artwork",
    "paintingData": "{...canvas data...}",
    "canvasWidth": 800,
    "canvasHeight": 600
}

GET /api/paintings/{id}
PUT /api/paintings/{id}
DELETE /api/paintings/{id}
```

---

## âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡

### application.properties
```properties
# Server Configuration
server.port=5001

# Database Configuration
spring.datasource.url=jdbc:sqlite:database.sqlite
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# JWT Configuration (512-bit key required for HS512)
jwt.secret=76aeb2b5875c08d63aa1d892f68b3dca9f8e4a5c1d2e3f4g5h6i7j8k9l0m1n2o3p4q5r6s7t8u9v0w1x2y3z4a5b6c7d8e9f0g1h2i3j4k5l6m7n8o9p0
jwt.expiration=604800000

# CORS Configuration  
cors.allowed-origins=http://localhost:3000,http://localhost:3001

# Application Configuration
app.name=Canvas Drawing API
logging.level.com.example=DEBUG
```

---

## ğŸš€ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

### Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§
- Java 17 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
- Maven 3.6+
- SQLite (Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ù†ØµØ¨)

### Ù…Ø±Ø§Ø­Ù„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ
```bash
# 1. Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡
git clone <repository-url>
cd canvas-drawing-api

# 2. Ù†ØµØ¨ dependencies
mvn clean install

# 3. Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
mvn spring-boot:run
```

### Health Check
- Endpoint: `GET /api/test/hello`
- Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆØ±: Ø³Ø±ÙˆØ± Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 5001 Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª

---

## ğŸ”§ Ù†Ú©Ø§Øª Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ

### Data Validation
- Bean Validation Ø¨Ø§ `@Valid` annotations
- Custom validation Ø¯Ø± Service layer
- Global exception handling

### Security Best Practices
- JWT tokens Ø¨Ø§ Ú©Ù„ÛŒØ¯ 512-bit Ø¨Ø±Ø§ÛŒ HS512
- BCrypt hashing Ø¨Ø§ default strength (10 rounds)
- CORS configuration Ø¨Ø±Ø§ÛŒ frontend domains
- Password validation Ùˆ username uniqueness

### Error Handling
```java
@ControllerAdvice
public class GlobalExceptionHandler {
    @ExceptionHandler(IllegalArgumentException.class)
    public ResponseEntity<String> handleIllegalArgument(IllegalArgumentException ex) {
        return ResponseEntity.badRequest().body(ex.getMessage());
    }
}
```
